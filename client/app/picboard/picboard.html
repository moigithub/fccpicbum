<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <div class="row">
    <div class="col-lg-12">
		<div id="newpicform">
			<p>
			<label>Image
				<img id="imgpreview" ng-src="{{pic.link}}" alt="new Image">
			</label>
			</p>
			<form name="picform" novalidate>
				<p>
					<label>
						Title
						<input type="text" name="title" ng-model="pic.title">
					</label>
				</p>
				<p>
					<label>
						Source (http link)
						<input id="imgsrc" type="text" name="link" ng-model="pic.link">
					</label>
				</p>
				<button id="submit" type="submit" ng-click="addPic()">Submit</button>
			</form>
		</div>


      <div class="imglist">
	    <div class="grid">
	        <div class="imgbum" ng-repeat="image in imgList">
	        	<button ng-click="remove(image)">X</button>
		        <div class="pic">
		          <img ng-src="{{image.link}}" alt="{{image.description}}">
		        </div>
				<div class="desc"><p>{{image.description}}</p>
				  <span class="user"><a href="/user/{{image.user._id}}">{{image.user.name}}</a></span>
				  <span class="likescount">likes: {{image.userlikes.length}}</span>
				</div>  
	          <button ng-click="meLike(image)">I Like</button>
	        </div>
	    </div>
	  </div>
    </div>
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){

	$('#imgpreview').error(function(){
        $(this).attr('src', 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/240px-No_image_available.svg.png');
	});
});
</script>

<footer class="footer">
  <div class="container">
      <p>Angular Fullstack v2.1.1 |
        <a href="https://twitter.com/tyhenkel">@tyhenkel</a> |
         <a href="https://github.com/DaftMonk/generator-angular-fullstack/issues?state=open">Issues</a></p>
  </div>
</footer>
